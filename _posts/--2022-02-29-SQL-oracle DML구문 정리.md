---
layout: post
title:  "Oracle sql 함수, 프로시저 작성 정리"
subtitle:   "Oracle sql 함수, 프로시저 작성 정리"
categories: SQL
comments: true
tags: Oracle
---

## oracle DB의 DML구문을 정리하려고 합니다

DML구문의 가운데 M은 manipulation을 의미하는데,

이는 조작을 의미한다. 그렇기에 해당 구문은 테이블 내부를 조작하는 구문들로 구성 되어있다.

<br/>

### 1.INSERT 문

기존 테이블에 행을 삽입하는 구문으로 아래와 같이 사용되게 된다.

    INSERT INTO t1 (column1, column2, column3) VALUES (123, 'ABC', 20);
    
방식으로 컬럼을 지정하고 해당 컬럼에 값을 집어넣는 방식이다.

하나의 행, 그리고 특정 컬럼에 값을 집어 넣기에,

빈 열에는 값이 들어가지 않거나, DEFAULT 설정이 되어있으면 해당 값이 들어간다.

만약 열을 지정하지 않는다면, 전체 열을 괄호 안에 적어야되며

서브 쿼리를 통해서 여러 행의 값을 삽입하는 것이 가능하다.

    서브쿼리 INSERT 구문 기술
    
<br/>

INSERT구문은 INSERT ~ INTO 사이에 ALL을 기술하느냐, 

FIRST ~ WHEN을 쓰느냐에 따라 INTO 뒤에 모두 삽입하는 것이 가능하거나

조건적으로 삽입하는 것이 가능하다.

    서브쿼리 INSERT 조건절 구문 기술
    

<br/>

### 2.UPDATE , DELETE 문

기존 테이블 행의 값을 갱신하기 위해 사용하는 구문으로 아래와 같이 사용된다.

    UPDATE 구문
    
다중 열 갱신도 가능하며

다만 에러가 발생하는 경우는 여러개 있다.

MERGE를 통해서, 조인 차수가 1:M의 구조가 된다면

여러번 갱신이 되기 때문에 이러한 경우에는 에러가 발생한다.

추가로 PK 제약조건으로 1번만 갱신되는 것이 보장되지 않는다면

에러가 발생하게 된다.

<br/>

DELETE구문은 단순하게 테이블의 기존 행을 삭제하는 것으로 

만약 WHERE절이 없다면 전체 행을 삭제합니다.

그렇기에 UPDATE와 DELETE구문은 사용시에, 미리 SELECT절로 자세히 다 확인 후에 수행 합니다.

<br/>

### 3.MERGE 구문

MERGE구문은 위에서 언급된 삽입, 갱신, 삭제가 모두 가능한 구문입니다.

대신 JOIN구문 처럼 사용이 되기에, 해당 구문에 대한 숙지가 중요하다고 생각됩니다.

INSERT 관련 내용

DELETE 관련 내용

<br/>

### 4.ERROR 로깅

DML구문은 공통적으로 중간에 에러가 발생하면 이전에 사항들을 모두 롤백시킨다.

이를 방지하기 위해, DML 수행 중 에러 발생시, 에러를 기록하고 다음 행에 대해서 진행을 할 수 있다.

에러 정보 관련 내용



